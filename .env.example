# Example environment variables (local development & CI)
# Note: never commit real secrets. Use GitHub Secrets for deployment credentials.

# Server
HOSTNAME=0.0.0.0
PORT=3000
# Public base URL of the app (used by health checks and analytics). For local dev:
NEXT_PUBLIC_APP_URL=http://localhost:3000

# Runtime flags
CI=false
NODE_ENV=development

# Health checks
# Skip optional checks (DB/SMTP/external) to avoid 503 during local dev
HEALTHCHECK_SKIP_OPTIONAL=true
# Memory thresholds for health classification (percent)
HEALTHCHECK_MEM_DEGRADED=90
HEALTHCHECK_MEM_UNHEALTHY=95

# Database
DB_HOST=localhost
DB_PORT=5432
DB_NAME=database
DB_USER=user
DB_PASSWORD=password
# Optional full connection string (overrides individual DB_* when set)
DATABASE_URL=postgres://user:password@localhost:5432/database
# Use mock DB in tests/dev to bypass real queries
MOCK_DB=false

# Email (required in production when MOCK_EMAIL=false)
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=username
SMTP_PASS=password
SMTP_FROM=no-reply@example.com
ADMIN_EMAIL=admin@example.com
# Email testing & retries
MOCK_EMAIL=false
EMAIL_MAX_RETRIES=3

# Security
# Strong random value for hashing IP addresses (e.g., `openssl rand -hex 32`)
IP_SALT=replace-with-strong-random-salt

# Admin auth
# Either supply a bearer token OR basic credentials (user+pass)
ADMIN_AUTH_TOKEN=
ADMIN_USER=admin
ADMIN_PASS=change-me
# Optional: prefill browser Basic auth in Admin Dashboard client
NEXT_PUBLIC_ADMIN_USER=
NEXT_PUBLIC_ADMIN_PASS=
# Admin metrics window (hours)
METRICS_WINDOW_HOURS=24

# Analytics
# Public toggle for client analytics widgets
NEXT_PUBLIC_ENABLE_ANALYTICS=false
NEXT_PUBLIC_ANALYTICS_TOKEN=public-analytics-token
# Server-side analytics credentials
ANALYTICS_AUTH_TOKEN=analytics-auth-token
ANALYTICS_BASIC_USER=analytics-user
ANALYTICS_BASIC_PASS=analytics-pass

# Rate limiting
RATE_LIMIT_COUNT=100
RATE_LIMIT_WINDOW_MS=60000

# Testing / E2E
# Marks E2E mode in code paths
NEXT_PUBLIC_E2E=false
# Local test server port (Playwright)
TEST_PORT=3001
# Base URL for Playwright tests (override when needed)
BASE_URL=http://localhost:3001

# Dev helpers
# Force a generic form error in mocked mode (useful for UI testing)
FORCED_FORM_ERROR=false
